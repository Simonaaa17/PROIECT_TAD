<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Sistem Meteo & Energie EolianÄƒ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>ConsultaÈ›i informaÈ›iile pentru un oraÈ™</h1>

        <form action="/city" method="post" class="search-form">
            <input type="text" name="city" placeholder="Ex: ConstanÈ›a" required>
            <button type="submit">ğŸ” CautÄƒ</button>
        </form>

        <form action="/delete_all" method="post" onsubmit="return confirm('Sigur vrei sÄƒ È™tergi toate mÄƒsurÄƒrile?');">
            <button type="submit" class="delete-all">ğŸ—‘ï¸ È˜terge toate mÄƒsurÄƒrile</button>
        </form>

        <hr>

        <a href="{{ url_for('api.list_measurements') }}">ğŸ”— API JSON</a> |
        <a href="/add">â• AdaugÄƒ mÄƒsurare manual</a>

        <h2>MÄƒsurÄƒtori existente</h2>
        {% if measurements %}
            <table>
                <thead>
                    <tr>
                        <th>OraÈ™</th>
                        <th>TemperaturÄƒ (Â°C)</th>
                        <th>VitezÄƒ vÃ¢nt (m/s)</th>
                        <th>Putere generatÄƒ (kW)</th>
                        <th>AcÈ›iuni</th>
                    </tr>
                </thead>
                <tbody>
                    {% for m in measurements %}
                    <tr>
                        <td>{{ m.city }}</td>
                        <td>{{ m.temperature }}</td>
                        <td>{{ m.wind_speed }}</td>
                        <td>{{ m.power_output }}</td>
                        <td>
                            <a href="/edit/{{ m.id }}">âœï¸ Editare</a> |
                            <a href="/delete/{{ m.id }}" onclick="return confirm('È˜tergi aceastÄƒ mÄƒsurare?');">âŒ È˜terge</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Nu existÄƒ mÄƒsurÄƒtori Ã®nregistrate.</p>
        {% endif %}
    </div>
</body>
</html>
